
<div class="container">

    <div class="row justify-content-center">
    <div class="col-md-8 mt-4">
      <div class="input-group">
        <div class="form-outline">
          <%= form_tag personalized_trainers_path, method: :get do %>
          <%= text_field_tag :query,
            params[:query],
            class: "form-control py-2 rounded-pill mr-1 pr-5",
            placeholder: "Find a PT in your area" %>
        </div>
          <%= submit_tag "Search", class: "btn rounded-pill border" %>
          <% end %>
        </div>
      </div>
    </div>


  <h3> Trainers in selected map area: <i class="fas fa-globe-africa"></i> </h3>
  <div class="row">

    <div class="col-5 mb-2">
      <% @personalized_trainers.each do |personalized_trainer| %>
      <div class="card-product p-3 mb-3 bg-white rounded-card-border">
        <% if personalized_trainer.photo.attached? %>
        <%= cl_image_tag personalized_trainer.photo.key, crop: :fill %>
        <% else %>
        <p> " " </p>
        <% end %>
        <div class="card-product-infos">
          <h4 class="card-title"><%= link_to personalized_trainer.name, personalized_trainer_path(personalized_trainer.id) %></h4>
          <h5> Category: <%= personalized_trainer.category %></h5>
          <p class="card-text"> <i class="fas fa-globe-africa"></i> <%= personalized_trainer.location %></p>
          <p class="card-text"> <i class="fas fa-ellipsis-v"></i> <%= personalized_trainer.description %></p>
          <p class="card-text"> â‚¬ <%= personalized_trainer.rate %></p>
        </div>
      </div>
      <% end %>
    </div>

    <div class="col-7">
      <div class="sticky-top shadow rounded">
        <div class="" id="map"
        style="width: 100%; height: 600px;"
        data-markers="<%= @markers.to_json %>"
        data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
    </div>
  </div>


</div>
</div>

